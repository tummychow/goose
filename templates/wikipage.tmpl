<body>
  <nav class="nav">
    <div class="container">
      <a class="pagename current">{{ .Doc.Name }}</a>
      <a href="/">Home</a>
      <a href="#">Edit</a>
      <a href="#">History</a>
    </div>
  </nav>

  <div class="container"><div id="md"></div></div>

  <script data-manual src="/public/main.js"></script>
  <script>
    var renderMin = new marked.Renderer();
    renderMin.table = function(header, body) {
      return '<table class=\'table\'>\n'
      + '<thead>\n'
      + header
      + '</thead>\n'
      + '<tbody>\n'
      + body
      + '</tbody>\n'
      + '</table>\n';
    };
    document.getElementById('md').innerHTML = marked('{{ .Doc.Content }}', {
      langPrefix: "language-",
      highlight: function(code, lang) {
        if (!Prism.languages[lang]) {
          return code
        }
        return Prism.highlight(code, Prism.languages[lang]);
      },
      renderer: renderMin
    });
  </script>
</body>
